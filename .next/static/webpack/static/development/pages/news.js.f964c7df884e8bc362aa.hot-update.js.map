{"version":3,"file":"static/webpack/static\\development\\pages\\news.js.f964c7df884e8bc362aa.hot-update.js","sources":["webpack:///./pages/news.js"],"sourcesContent":["import React from 'react'\r\nimport Layout from '../components/layout'\r\nimport Router, { withRouter } from 'next/router'\r\nimport Pagination from 'rc-pagination'\r\nimport 'rc-pagination/assets/index.css'\r\nimport { parseTime } from '../utils'\r\nimport { fetchArticleList } from '../api'\r\n\r\nclass News extends React.Component {\r\n  static async getInitialProps({ req }) {\r\n    const pageNum = (req.query && req.query.pageNum) || 1\r\n    const newsListRes = await fetchArticleList({ pageNum, pageSize: 2 })\r\n    const newsList = newsListRes.data.list || []\r\n    return { newsList, current: Number(pageNum), total: newsListRes.data.total }\r\n  }\r\n  createMarkup = (html) => {\r\n    return { __html: html }\r\n  }\r\n  onChange = (page) => {\r\n    Router.push({\r\n      pathname: '/news',\r\n      query: {\r\n        pageNum: page\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { newsList } = this.props\r\n    return (\r\n      <Layout>\r\n        <div className=\"snd-banner snd-news\">\r\n          <div className=\"content-container\">\r\n            <img src=\"/static/images/newsbanner.png\" />\r\n            <h1>新闻动态</h1>\r\n            <p>为您提供最近公司新闻、专业的行业动态与资讯。让您率先掌握行业开发先机。</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"content-box snd-news\">\r\n          <div className=\"content-container\">\r\n            <div className=\"minimenu\">\r\n              <span><a href=\"/\" >返回首页</a></span>\r\n              <span className=\"active\"><a >新闻动态</a></span>\r\n              <div className=\"clearfix\"></div>\r\n            </div>\r\n            <div className=\"newslist\">\r\n              <ul>\r\n                {newsList.map(news => (\r\n                  <li key={news._id}>\r\n                    <a href={'/detail?_id=' + news._id}>\r\n                      {news.title}\r\n                    </a>\r\n                    <span>{parseTime(news.createDate)}</span>\r\n                  </li> \r\n                ))}\r\n              </ul>\r\n            </div>\r\n            <Pagination onChange={this.onChange} current={this.props.current} total={this.props.total} pageSize={2} />\r\n          </div>\r\n        </div>\r\n      </Layout> \r\n    )\r\n  }  \r\n}\r\nexport default withRouter(News)\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;;;;;;AAAA;AAAA;AAEA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAFA;AAUA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;;AArDA;AACA;;AACA;AAAA;AAAA;AAAA;AACA;;AADA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AANA;AACA;AAuDA;;;;A","sourceRoot":""}